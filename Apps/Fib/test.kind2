
Main : _ {
  // Initial State
  let state  = Apps.Fib.State.init
  // Player 0
  // Pos  = 141 : 15
  // Exp  = 3251
  // Hp   = 100
  // Spls = Fireball
  let p0     = Apps.Fib.Player.new (U120.new 0 141) (U120.new 0 15) (U120.new 0 3251) (U120.new 0 100) (U120.new 0 0) (U120.new 0 0) (U120.new 0 0) [U120.1]
  // Player 1
  // Pos  = 144 : 10
  // Exp  = 1423
  // Hp   = 100
  // Spls = Fireball 
  let p1     = Apps.Fib.Player.new (U120.new 0 144) (U120.new 0 10) (U120.new 0 1423) (U120.new 0 100) (U120.new 0 0) (U120.new 0 0) (U120.new 0 0) [U120.1]
  // Id for player 0
  let p0_id  = (U120.new 0 1017)
  // Id for player 1
  let p1_id  = (U120.new 0 625)
  // Pos for player 0 
  let p0_pos = Apps.Fib.Pos.new (U120.new 0 141) (U120.new 0 15)
  // Pos for player 1
  let p1_pos = Apps.Fib.Pos.new (U120.new 0 144) (U120.new 0 10)
  // TODO: change this to create a character from an action
  // Places player 0 on the state
  let state  = Apps.Fib.State.player.place state p0 p0_id
  // Places player 1 on the state
  let state  = Apps.Fib.State.player.place state p1 p1_id
  // Shows All players in the Table
  let t_shw0 = Apps.Fib.Table.show_players (Apps.Fib.test.Table state)
  // Action code for Player 0 casting Fireball on Player 1
  // U120.0 stands for the first skill in a character
  let a_code = Apps.Fib.Action.skill_code state U120.0 p0_id p1_pos
  // Runs Fireball action code in the state
  let state  = Apps.Fib.State.update state a_code
  // Shows a certain part of the map
  // Starting x = 130
  // Starting y = 0
  // Width      = 20
  // Height     = 20
  let m_show = Apps.Fib.Map.show 130 0 20 20 (Apps.Fib.test.Map state)
  // Shows all players in the Table
  let t_shw1 = Apps.Fib.Table.show_players (Apps.Fib.test.Table state)
  String.concat t_shw0 t_shw1
  // m_show
}


Apps.Fib.test.Table #fib_tst_tabl (state: Apps.Fib.State) : Apps.Fib.Table
Apps.Fib.test.Table (Apps.Fib.State.new map tbl) = tbl

Apps.Fib.test.Map #fib_tst_map (state: Apps.Fib.State) : Apps.Fib.Map
Apps.Fib.test.Map (Apps.Fib.State.new map tbl) = map
